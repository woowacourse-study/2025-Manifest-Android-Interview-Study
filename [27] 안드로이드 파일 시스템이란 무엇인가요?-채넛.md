### 안드로이드 파일 시스템이란 무엇인가요?

안드로이드 파일 시스템 : 안드로이드 기기에서 데이터 저장을 관리하고 구성하는 구조화된 환경

애플리케이션과 사용자가 효율적으로 저장, 검색 및 관리할 수 있도록 한다.

파일 시스템은 리눅스의 파일 시스템 아키텍처 위에 구축되어 엄격한 보안 및 권한 모델을 준수하면서 애플리케이션을 위한 비공개 및 저장 공간을 모두 제공한다.

안드로이드 파일 시스템  주요 구성 요소

- 각각 고유한 목적을 가진 다양한 디렉토리와 파티션으로 구성
    - System Partition(/system) : 안드로이드 프레임 워크 라이브러리, 시스템 앱 및 구성 파일을 포함한  핵심 운영 체제 파일이 존재, 우발적이나 악의적 수정을 방지하기 위해 일반 사용자 및 앱에 대해 읽기 전용
    - Data Partition(/data) : 데이터베이스, SharedPreferences 및 사용자가 생성한 파일을 포함한 앱별 데이터가 저장된다. 각 앱은 /data/data 내에 해당 앱만 접근할 수 있는 비공개 디렉토리를 가지므로 데이터 보안이 보장된다
    - Cache Partition(/cache) : 시스템 업데이트나 기기 재시작 시 유지할 필요가 없는 캐시된 파일과 같은 임시 데이터 저장에 사용된다.
    - External Storage(/sdcard 또는 /storage) : 여러 앱에서 접근할 수 있는 공유 저장 공간을 제공하며, 이미지, 비디오, 문서와 같은 미디어 파일에 자주 사용된다.
        - 내부 또는 이동시 SD 카드 일 수 있다.
    - Temporary Files(/tmp) : 앱 실행 중 임시 파일을 저장하는 위치, 일반적으로 앱이나 시스템이 재시작될 때 지워진다.

파일 접근

- 애플리케이션은 안드로이드 프레임워크에서 제공하는 API를 사용하여 파일 시스템과 상호작용한다. 필요한 파일 가시성 및 수명에 따라 앱은 파일을 다른 위치에 저장할 수 있다.
    - 내부 저장소 : 애플리케이션 샌드박스 내의 비공개 저장 공간으로 해당 앱만 접근할 수 있다. 민감하거나 앱 별 데이터 저장에 이상적이다.
    - 외부 저장소 : 여러 앱에서 접근할 수 있는 공유 저장 공간으로, 사용자가 앱 외부에서 접근할 것으로 예상하는 사용자 생성 콘텐츠 또는 미디어를 저장하는 데 사용된다.

파일 권한 및 보안

- 비공개 앱 데이터 : 앱의 내부 저장소에 저장된 파일은 비공개이며 해당 앱만 접근할 수 있다.
- 공유 파일 : 앱 간에 파일을 공유하려면 개발자는 외부 저장소나 적절한 권한이 있는 ContentProvider를 사용할 수 있다
- 범위 지정 저장소 : 안드로이드 10에서 도입되었으며, 공유 저장소에 대한 직접 접근을제한하여 앱이 MediaStore 또는 SAF(Storage Access Framework) API를 사용하도록 요구한다.

 Q ) 안드로이드는 파일 시스템에서 보안 및 권한을 어떻게 관리하며, 앱이 서로의 비공개 데이터에 접근할 수 없도록 보장하는 메커니즘은 무엇인가요?

안드로이드에서 파일 시스템 보안 및 권한 관리는 주로 리눅스 커널 기반의 사용자 ID(UID)와 샌드박스 메커니즘을 활용해 이뤄집니다. 구체적으로 각 앱에 고유한 UID가 할당되며, 이 UID를 통해 앱의 프로세스와 파일에 대한 접근 권한을 커널 수준에서 제어합니다. 이런 방식으로 한 앱이 다른 앱의 데이터나 리소스에 접근하는 것이 기본적으로 차단되어 서로의 비공개 데이터에 접근할 수 없도록 보장합니다. 이 샌드박스는 리눅스 표준 사용자 및 그룹 권한 시스템을 사용해 앱 간 분리와 보안을 강화하며, 악성 앱으로부터 시스템과 앱을 보호합니다.
또한, 앱이 민감한 데이터나 기능에 접근하려면 반드시 권한을 선언하고 런타임에 사용자로부터 허락을 받아야 하는 권한 관리 시스템이 별도로 존재합니다. 이는 사용자 개인정보 보호 및 투명성을 높이며, 앱이 필요하지 않은 데이터나 기능에 접근하는 것을 방지합니다. 앱은 자신의 내부 저장소(내부 저장소 디렉토리)의 파일은 기본적으로 본인만 접근 가능하며, 외부 저장소(예: SD카드) 내에서도 앱 전용 경로를 통해 제한적으로 접근합니다.
다른 앱과 데이터를 공유할 때는 일반적인 파일 권한 설정보다 콘텐츠 제공자(Content Provider)를 사용해 권한을 제어하는 방법이 권장됩니다. 콘텐츠 제공자는 동적으로 읽기/쓰기 권한을 부여할 수 있고, IPC(Inter-Process Communication) 방식으로 안전하게 타 앱과 데이터를 주고받도록 설계되어 있습니다.
정리하면, 안드로이드가 앱 간 비공개 데이터 접근을 차단하는 주된 메커니즘은:
•	각 앱에 고유 UID 부여 및 이를 통한 리눅스 사용자 기반 샌드박스 적용
•	내부 저장소 파일에 대한 기본 접근 권한 제한
•	민감한 데이터/기능 접근을 위한 권한 관리 시스템과 런타임 권한 요청
•	콘텐츠 제공자 등 IPC를 통한 안전한 데이터 공유 방식 적용
이 구조들은 앱 간 데이터 격리와 보안, 사용자 개인정보 보호를 효과적으로 지원합니다.